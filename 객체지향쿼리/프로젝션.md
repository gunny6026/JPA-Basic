## 프로젝션

- SELECT 절에 조회할 대상을 지정하는 것
- 프로젝션 대상 : 엔티티, 임베디드 타입, 스칼라 타입(숫자,문자등 기본 데이터 타입)
- select m from Member m -> 엔티티 프로젝션
- select m.team from Member m -> 엔티티 프로젝션
- select m.address from Member m -> 임베디드 타입 프로젝션
- select m.username , m.age from Member m -> 스칼라 타입 프로젝션
- DISTINCT 로 중복 제거

```java
 Member member = new Member();
            member.setUsername("member1");
            member.setAge(10);
            em.persist(member);

            em.flush();
            em.clear();

            List<Team> result =
                    em.createQuery("select t from Member m join m.team t", Team.class)
                            .getResultList();


            tx.commit();
```


### 프로젝션 - 여러 값 조회

- select m.username , m.age from Member m
- Query 타입으로 조회
- Object[] 타입으로 조회
- new 명령어로 조회
    - 단순 값을 DTO로 바로 조회
    
    select new jpabook.jpql.UserDto(m.username, m.age) from Member m
   
    - 패키지 명을 포함한 전테 클래스 명 입력
    - 순서와 타입이 일치하는 생성자 필요
    



```java
List resultList = em.createQuery("select m.username , m.age from Member m")
                    .getResultList();
            
            Object o =  resultList.get(0);
            Object[] result = (Object[]) o;
            System.out.println("username = " +result[0]);
            System.out.println("age = "+ result[1]);
```


```java
 List<MemberDTO> resultList = em.createQuery("select new jpql.MemberDTOm.username , m.age) from Member m", MemberDTO.class)
                    .getResultList();

            MemberDTO memberDTO = resultList.get(0);
            System.out.println("memberDTO = " + memberDTO.getUsername());
            System.out.println("memberDTO = "+ memberDTO.getAge());
            tx.commit();
```
